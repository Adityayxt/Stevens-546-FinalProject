<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register | SkillSwap</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
<div class="login-wrapper">
  <div class="login-box">
    <h1 class="login-title">SkillSwap</h1>
    <p style="color: var(--gray-600); margin-bottom: var(--spacing-xl);">Create New Account</p>

    <div class="error-message" id="errorMessage" style="display: none;"></div>

    <form action="/auth/register" method="POST" class="login-form" id="registerForm">
      <div class="input-group">
        <input
                type="text"
                name="username"
                id="username"
                placeholder="Please enter username"
                required
                autocomplete="username"
        />
        <div class="error-text" id="usernameError"></div>
      </div>
      
      <div class="input-group">
        <input
                type="password"
                name="password"
                id="password"
                placeholder="Please enter password"
                required
                autocomplete="new-password"
        />
        <div class="error-text" id="passwordError"></div>
      </div>
      
      <div class="input-group">
        <input
                type="email"
                name="email"
                id="email"
                placeholder="Please enter email"
                required
                autocomplete="email"
        />
        <div class="error-text" id="emailError"></div>
      </div>
      
      <button type="submit" class="login-button">
        <span>Register</span>
      </button>
    </form>

    <a href="/html/login.html" class="register-link">Already have an account? Login now</a>
  </div>
</div>
<script src="/js/formValidation.js"></script>
<script>
// Handle URL parameters for error messages and form data
window.addEventListener('DOMContentLoaded', function() {
  const urlParams = new URLSearchParams(window.location.search);
  const error = urlParams.get('error');
  const username = urlParams.get('username');
  const email = urlParams.get('email');
  
  if (error) {
    const errorDiv = document.getElementById('errorMessage');
    errorDiv.textContent = error;
    errorDiv.style.display = 'block';
  }
  
  if (username) {
    document.getElementById('username').value = username;
  }
  
  if (email) {
    document.getElementById('email').value = email;
  }
});
</script>
</body>
</html>